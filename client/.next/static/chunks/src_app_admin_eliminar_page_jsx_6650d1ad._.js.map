{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Diego/Documents/Ecommers%20Don%20Rimos/client/src/app/admin/eliminar/page.jsx"],"sourcesContent":["'use client'\r\n\r\nimport { data } from \"autoprefixer\";\r\nimport { useEffect, useState } from \"react\"\r\n\r\nexport default function EliminarProducto(){\r\n    const [ productos, setProductos] = useState([]);\r\n    const [ mensaje, setMensaje] = useState('');\r\n\r\n    useEffect(() =>{\r\n        fetch('http://localhost:3001/api/productos')\r\n        .then(res => res.json())\r\n        .then(data => setProductos(data))\r\n        .catch(() => setMensaje('❌ Error al obtener productos'));\r\n    }, []);\r\n\r\n    const eliminarProducto = async (id) => {\r\n        try {\r\n            const res = await fetch(`http://localhost:3001/api/productos/${id}`,{\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (res.ok) {\r\n                setMensaje('✅ Producto eliminado')\r\n                setProductos(productos.filter(p => p.id !== id));\r\n            }else {\r\n                setMensaje('❌ Error al eliminar el producto')\r\n            } \r\n        } catch (err) {\r\n            setMensaje('❌ Error al conectar con el servidor')\r\n        }\r\n    };\r\n\r\n    return(\r\n        <main className=\"p-8 max-w-xl mx-auto text-black\">\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">Eliminar Producto</h1>\r\n            {mensaje && <p className=\"mb-4 text-sm text-gray-700\">{mensaje}</p>}\r\n            <ul className=\"grid gap-4\">\r\n                {productos.map(producto => (\r\n                    <li \r\n                        key={producto.nombre}\r\n                        className=\"border p-4 rounded flex justify-between items-center\"\r\n                    >\r\n                        <span>{producto.nombre}</span>\r\n                        <button\r\n                            onClick={() => eliminarProducto(producto.id)}\r\n                            className=\"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600\"\r\n                        >\r\n                            Eliminar\r\n                        </button>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </main>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACpB,MAAM,CAAE,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC9C,MAAM,CAAE,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAExC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACN,MAAM,uCACL,IAAI;8CAAC,CAAA,MAAO,IAAI,IAAI;6CACpB,IAAI;8CAAC,CAAA,OAAQ,aAAa;6CAC1B,KAAK;8CAAC,IAAM,WAAW;;QAC5B;qCAAG,EAAE;IAEL,MAAM,mBAAmB,OAAO;QAC5B,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,CAAC,oCAAoC,EAAE,IAAI,EAAC;gBAChE,QAAQ;YACZ;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,WAAW;gBACX,aAAa,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;YAChD,OAAM;gBACF,WAAW;YACf;QACJ,EAAE,OAAO,KAAK;YACV,WAAW;QACf;IACJ;IAEA,qBACI,6LAAC;QAAK,WAAU;;0BACZ,6LAAC;gBAAG,WAAU;0BAAsC;;;;;;YACnD,yBAAW,6LAAC;gBAAE,WAAU;0BAA8B;;;;;;0BACvD,6LAAC;gBAAG,WAAU;0BACT,UAAU,GAAG,CAAC,CAAA,yBACX,6LAAC;wBAEG,WAAU;;0CAEV,6LAAC;0CAAM,SAAS,MAAM;;;;;;0CACtB,6LAAC;gCACG,SAAS,IAAM,iBAAiB,SAAS,EAAE;gCAC3C,WAAU;0CACb;;;;;;;uBAPI,SAAS,MAAM;;;;;;;;;;;;;;;;AAe5C;GAlDwB;KAAA","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Diego/Documents/Ecommers%20Don%20Rimos/client/src/app/admin/page.js"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from \"react\";\r\n\r\nexport default function Admin() {\r\n  const [formulario, setFormulario] = useState({\r\n    nombre: '',\r\n    descripcion: '',\r\n    precio: '',\r\n    categoria: '',\r\n    stock: ''\r\n  });\r\n\r\n  const [archivoSeleccionado, setArchivoSeleccionado] = useState(null);\r\n  const [mensaje, setMensaje] = useState('');\r\n\r\n  const handleChange = (e) => {\r\n    setFormulario({ ...formulario, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleArchivo = (e) => {\r\n    setArchivoSeleccionado(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!archivoSeleccionado) {\r\n      setMensaje('Por favor selecciona una imagen');\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('imagen', archivoSeleccionado);\r\n    formData.append('nombre', formulario.nombre);\r\n    formData.append('descripcion', formulario.descripcion);\r\n    formData.append('precio', parseFloat(formulario.precio));\r\n    formData.append('categoria', formulario.categoria);\r\n    formData.append('stock', parseInt(formulario.stock));\r\n\r\n    try {\r\n      const res = await fetch('http://localhost:3001/api/productos', {\r\n        method: 'POST',\r\n        body: formData\r\n      });\r\n\r\n      if (res.ok) {\r\n        setMensaje('✅ Producto creado correctamente');\r\n        setFormulario({\r\n          nombre: '',\r\n          descripcion: '',\r\n          precio: '',\r\n          categoria: '',\r\n          stock: ''\r\n        });\r\n        setArchivoSeleccionado(null);\r\n      } else {\r\n        const data = await res.json();\r\n        setMensaje(`❌ Error al crear el producto: ${data.error || 'Error desconocido'}`);\r\n      }\r\n    } catch (error) {\r\n      setMensaje('❌ Error al conectar con el servidor');\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"p-8 max-w-2xl mx-auto\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Agregar Producto</h1>\r\n\r\n      <form onSubmit={handleSubmit} className=\"grid gap-4\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"nombre\"\r\n          placeholder=\"Nombre\"\r\n          value={formulario.nombre}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <textarea\r\n          name=\"descripcion\"\r\n          placeholder=\"Descripción\"\r\n          value={formulario.descripcion}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"precio\"\r\n          placeholder=\"Precio\"\r\n          value={formulario.precio}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleArchivo}\r\n          accept=\"image/*\"\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"categoria\"\r\n          placeholder=\"Categoría\"\r\n          value={formulario.categoria}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"stock\"\r\n          placeholder=\"Stock\"\r\n          value={formulario.stock}\r\n          onChange={handleChange}\r\n          required\r\n          className=\"border p-2 rounded\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-brown-700 hover:bg-brown-800 text-white py-2 px-4 rounded\"\r\n        >\r\n          Crear Producto\r\n        </button>\r\n      </form>\r\n\r\n      {mensaje && <p className=\"mt-4 text-sm text-center text-gray-700\">{mensaje}</p>}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC3C,QAAQ;QACR,aAAa;QACb,QAAQ;QACR,WAAW;QACX,OAAO;IACT;IAEA,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,eAAe,CAAC;QACpB,cAAc;YAAE,GAAG,UAAU;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IACjE;IAEA,MAAM,gBAAgB,CAAC;QACrB,uBAAuB,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;IAC1C;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,qBAAqB;YACxB,WAAW;YACX;QACF;QAEA,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,UAAU;QAC1B,SAAS,MAAM,CAAC,UAAU,WAAW,MAAM;QAC3C,SAAS,MAAM,CAAC,eAAe,WAAW,WAAW;QACrD,SAAS,MAAM,CAAC,UAAU,WAAW,WAAW,MAAM;QACtD,SAAS,MAAM,CAAC,aAAa,WAAW,SAAS;QACjD,SAAS,MAAM,CAAC,SAAS,SAAS,WAAW,KAAK;QAElD,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,uCAAuC;gBAC7D,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,IAAI,EAAE,EAAE;gBACV,WAAW;gBACX,cAAc;oBACZ,QAAQ;oBACR,aAAa;oBACb,QAAQ;oBACR,WAAW;oBACX,OAAO;gBACT;gBACA,uBAAuB;YACzB,OAAO;gBACL,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,WAAW,CAAC,8BAA8B,EAAE,KAAK,KAAK,IAAI,qBAAqB;YACjF;QACF,EAAE,OAAO,OAAO;YACd,WAAW;YACX,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,6LAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,WAAW,MAAM;wBACxB,UAAU;wBACV,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,WAAW,WAAW;wBAC7B,UAAU;wBACV,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,WAAW,MAAM;wBACxB,UAAU;wBACV,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,UAAU;wBACV,QAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,WAAW,SAAS;wBAC3B,UAAU;wBACV,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,WAAW,KAAK;wBACvB,UAAU;wBACV,QAAQ;wBACR,WAAU;;;;;;kCAEZ,6LAAC;wBACC,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;YAKF,yBAAW,6LAAC;gBAAE,WAAU;0BAA0C;;;;;;;;;;;;AAGzE;GAjIwB;KAAA","debugId":null}}]
}